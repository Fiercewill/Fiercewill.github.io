<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="WM">





<title>openmv4 R2çš„å›¾åƒå¤„ç†ï¼ˆä¸€ï¼‰ | WM&#39;s blog</title>



    <link rel="icon" href="/favicon1.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    



<meta name="generator" content="Hexo 6.3.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">WM&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">WM&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">openmv4 R2çš„å›¾åƒå¤„ç†ï¼ˆä¸€ï¼‰</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">WM</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">December 8, 2023&nbsp;&nbsp;16:42:51</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/%E6%91%84%E5%83%8F%E5%A4%B4%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">æ‘„åƒå¤´å›¾åƒå¤„ç†</a>
                            
                        </span>
                    
                    
                        <span class="post-count">
                    Words:
                        <a href="">3,065</a> 
                        </span>
                             
                    
                        <span class="post-count">
                    Time:
                        <a href="">13min</a> 
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <blockquote>
<p>âœ…ä½œè€…ç®€ä»‹ï¼šå¤§å®¶å¥½æˆ‘æ˜¯ï¼šä¾ å®¢erï¼Œä¸€åæ™®é€šç”µå­ä¿¡æ¯å·¥ç¨‹ä¸“ä¸šçš„å¤§å­¦å­¦ç”Ÿï¼Œå¸Œæœ›ä¸€èµ·åŠªåŠ›ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
<p>ğŸ“ƒCSDNä¸ªäººä¸»é¡µï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_62261692?spm=1000.2115.3001.5343">ä¾ å®¢er</a></p>
<p>ğŸ”¥ç³»åˆ—ä¸“æ ï¼š<a href="https://fiercewill.github.io/categories/%E6%91%84%E5%83%8F%E5%A4%B4%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">æ‘„åƒå¤´å›¾åƒå¤„ç†</a></p>
</blockquote>
<h1>å‰è¨€</h1>
<blockquote>
<p>é€šè¿‡æœ¬ç¯‡æ–‡ç« ï¼Œä½ å°†å­¦åˆ°ï¼š</p>
<p>ï¼ˆ1ï¼‰openmvå›¾åƒçš„å¤„ç†æ–¹æ³•ï¼šæ„Ÿå…‰å…ƒä»¶</p>
<p>ï¼ˆ2ï¼‰ç”»å›¾</p>
<p>ï¼ˆ3ï¼‰å¯»æ‰¾è‰²å—</p>
</blockquote>
<h1>æ„Ÿå…‰å…ƒä»¶</h1>
<p>sensoræ¨¡å—,ç”¨äºè®¾ç½®æ„Ÿå…‰å…ƒä»¶çš„å‚æ•°ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sensor<span class="comment">#å¼•å…¥æ„Ÿå…‰å…ƒä»¶çš„æ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ‘„åƒå¤´</span></span><br><span class="line">sensor.reset()<span class="comment">#åˆå§‹åŒ–æ„Ÿå…‰å…ƒä»¶</span></span><br><span class="line">sensor.set_pixformat(sensor.RGB565)<span class="comment">#è®¾ç½®ä¸ºå½©è‰²</span></span><br><span class="line">sensor.set_framesize(sensor.QVGA)<span class="comment">#è®¾ç½®å›¾åƒçš„å¤§å°</span></span><br><span class="line">sensor.skip_frames()<span class="comment">#è·³è¿‡nå¼ ç…§ç‰‡ï¼Œåœ¨æ›´æ”¹è®¾ç½®åï¼Œè·³è¿‡ä¸€äº›å¸§ï¼Œç­‰å¾…æ„Ÿå…‰å…ƒä»¶å˜ç¨³å®šã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€ç›´æ‹ç…§</span></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">    img = sensor.snapshot()<span class="comment">#æ‹æ‘„ä¸€å¼ ç…§ç‰‡ï¼Œimgä¸ºä¸€ä¸ªimageå¯¹è±¡</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="1-åˆå§‹åŒ–">1 åˆå§‹åŒ–</h2>
<ul>
<li>sensor.reset() åˆå§‹åŒ–æ„Ÿå…‰å…ƒä»¶</li>
</ul>
<h2 id="2-è®¾ç½®å½©è‰²ï¼é»‘ç™½">2 è®¾ç½®å½©è‰²ï¼é»‘ç™½</h2>
<ul>
<li>sensor.set_pixformat() è®¾ç½®åƒç´ æ¨¡å¼ã€‚
<ul>
<li>sensor.GRAYSCALE: ç°åº¦ï¼Œæ¯ä¸ªåƒç´ 8bitã€‚</li>
<li>sensor.RGB565: å½©è‰²ï¼Œæ¯ä¸ªåƒç´ 16bitã€‚</li>
</ul>
</li>
</ul>
<p>ï¼ˆ1ï¼‰sensor.set_pixformat(sensor.RGB565)#è®¾ç½®ä¸ºå½©è‰²ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/1.png" alt></p>
<p>ï¼ˆ2ï¼‰sensor.set_pixformat(sensor.GRAYSCALE)#è®¾ç½®ä¸ºé»‘ç™½ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/2.png" alt></p>
<p>é»‘ç™½å›¾åƒä¸‹ï¼Œæ‘„åƒå¤´çš„åŠŸè€—è¦æ¯”å½©è‰²å›¾åƒä¸‹ä½å¾ˆå¤šã€‚</p>
<h2 id="3-è®¾ç½®å›¾åƒå¤§å°">3 è®¾ç½®å›¾åƒå¤§å°</h2>
<ul>
<li>sensor.set_framesize() è®¾ç½®å›¾åƒçš„å¤§å°ï¼Œå…¶å®å°±æ˜¯è®¾ç½®å›¾åƒé•¿ä¸å®½çš„åƒç´ ç‚¹ï¼Œè¿™é‡Œåªå±•ç¤ºåšæ¯”èµ›æ—¶å¸¸ç”¨çš„å‡ ä¸ªå‚æ•°
<ul>
<li>sensor.QQQQVGA: 40x30</li>
<li>sensor.QQQVGA: 80x60</li>
<li>sensor.QQVGA: 160x120</li>
<li>sensor.QVGA: 320x240</li>
<li>sensor.VGA: 640x480</li>
</ul>
</li>
</ul>
<p>ï¼ˆ1ï¼‰å¦‚ä¸Šç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼šsensor.set_framesize(sensor.QVGA)#è®¾ç½®å›¾åƒçš„å¤§å°</p>
<p>é…ç½®çš„æ˜¯sensor.QVGA: 320x240ï¼Œä»å¸§ç¼“å†²åŒºä¸­å¯ä»¥çœ‹åˆ°ï¼Œ320åº”è¯¥æ˜¯é•¿ï¼Œ240æ˜¯å®½ã€‚</p>
<p>ï¼ˆ2ï¼‰æˆ‘ä»¬æ”¹æˆsensor.QQVGA: 160x120çœ‹ä¸‹æ•ˆæœã€‚</p>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/3.png" alt></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå›¾åƒæ¯”ä¹‹å‰å°äº†å¾ˆå¤šã€‚</p>
<h2 id="4-è·³è¿‡ä¸€äº›å¸§">4 è·³è¿‡ä¸€äº›å¸§</h2>
<ul>
<li>sensor.skip_frames(n=10) è·³è¿‡nå¼ ç…§ç‰‡ï¼Œåœ¨æ›´æ”¹è®¾ç½®åï¼Œè·³è¿‡ä¸€äº›å¸§ï¼Œç­‰å¾…æ„Ÿå…‰å…ƒä»¶å˜ç¨³å®šã€‚</li>
</ul>
<h2 id="5-è·å–ä¸€å¼ å›¾åƒ">5 è·å–ä¸€å¼ å›¾åƒ</h2>
<ul>
<li>sensor.snapshot() æ‹æ‘„ä¸€å¼ ç…§ç‰‡ï¼Œè¿”å›ä¸€ä¸ªimageå¯¹è±¡ã€‚</li>
</ul>
<h2 id="6-è‡ªåŠ¨å¢ç›Šï¼ç™½å¹³è¡¡ï¼æ›å…‰">6 è‡ªåŠ¨å¢ç›Šï¼ç™½å¹³è¡¡ï¼æ›å…‰</h2>
<ul>
<li>sensor.set_auto_gain() è‡ªåŠ¨å¢ç›Šå¼€å¯ï¼ˆTrueï¼‰æˆ–è€…å…³é—­ï¼ˆFalseï¼‰ã€‚åœ¨ä½¿ç”¨é¢œè‰²è¿½è¸ªæ—¶ï¼Œéœ€è¦å…³é—­è‡ªåŠ¨å¢ç›Šã€‚</li>
<li>sensor.set_auto_whitebal() è‡ªåŠ¨ç™½å¹³è¡¡å¼€å¯ï¼ˆTrueï¼‰æˆ–è€…å…³é—­ï¼ˆFalseï¼‰ã€‚åœ¨ä½¿ç”¨é¢œè‰²è¿½è¸ªæ—¶ï¼Œéœ€è¦å…³é—­è‡ªåŠ¨ç™½å¹³è¡¡ã€‚</li>
<li>sensor.set_auto_exposure(enable[, exposure_us])
<ul>
<li>enable æ‰“å¼€ï¼ˆTrueï¼‰æˆ–å…³é—­ï¼ˆFalseï¼‰è‡ªåŠ¨æ›å…‰ã€‚é»˜è®¤æ‰“å¼€ã€‚</li>
<li>å¦‚æœ enable ä¸ºFalseï¼Œ åˆ™å¯ä»¥ç”¨ exposure_us è®¾ç½®ä¸€ä¸ªå›ºå®šçš„æ›å…‰æ—¶é—´ï¼ˆä»¥å¾®ç§’ä¸ºå•ä½ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h2 id="7-è®¾ç½®çª—å£ROI">7 è®¾ç½®çª—å£ROI</h2>
<p>sensor.set_windowing(roi)</p>
<p>ROIï¼šRegion Of Interestï¼Œå›¾åƒå¤„ç†ä¸­çš„æœ¯è¯­â€œæ„Ÿå…´è¶£åŒºâ€ã€‚å°±æ˜¯åœ¨è¦å¤„ç†çš„å›¾åƒä¸­æå–å‡ºçš„è¦å¤„ç†çš„åŒºåŸŸã€‚<br>
<img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/4.png" alt></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sensor.set_framesize(sensor.VGA) # é«˜åˆ†è¾¨ç‡</span><br><span class="line">sensor.set_windowing((640, 80)) #å–ä¸­é—´çš„640*80åŒºåŸŸ</span><br><span class="line">Copy</span><br></pre></td></tr></table></figure>
<p>roiçš„æ ¼å¼æ˜¯(x, y, w, h)ã€‚è¯¦è§<a target="_blank" rel="noopener" href="https://book.openmv.cc/image/statistics.html">ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯ Â· OpenMVä¸­æ–‡å…¥é—¨æ•™ç¨‹</a></p>
<h2 id="8-è®¾ç½®ç¿»è½¬">8 è®¾ç½®ç¿»è½¬</h2>
<p>ï¼ˆ1ï¼‰sensor.set_hmirror(True) #æ°´å¹³æ–¹å‘ç¿»è½¬</p>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/5.png" alt></p>
<p>å¯ä»¥çœ‹åˆ°å¸§ç¼“å†²åŒºçš„å›¾åƒä¸ä¹‹å‰æ°´å¹³é•œåƒäº†ã€‚</p>
<p>ï¼ˆ2ï¼‰sensor.set_vflip(True) #å‚ç›´æ–¹å‘ç¿»è½¬</p>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/6.png" alt></p>
<h1>ç”»å›¾</h1>
<p>ç¤ºä¾‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hello World Example</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Welcome to the OpenMV IDE! Click on the green run arrow button below to run the script!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sensor, image, time</span><br><span class="line"></span><br><span class="line">sensor.reset() <span class="comment"># åˆå§‹åŒ–æ‘„åƒå¤´</span></span><br><span class="line">sensor.set_pixformat(sensor.RGB565) <span class="comment"># æ ¼å¼ä¸º RGB565.</span></span><br><span class="line">sensor.set_framesize(sensor.QQVGA)</span><br><span class="line">sensor.skip_frames(<span class="number">10</span>) <span class="comment"># è·³è¿‡10å¸§ï¼Œä½¿æ–°è®¾ç½®ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">    img = sensor.snapshot()         <span class="comment"># Take a picture and return the image.</span></span><br><span class="line">    img.draw_line((<span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>))</span><br><span class="line">    img.draw_line((<span class="number">80</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>), color=(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>))</span><br><span class="line">    img.draw_rectangle((<span class="number">20</span>, <span class="number">30</span>, <span class="number">41</span>, <span class="number">51</span>), color=(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>))</span><br><span class="line">    img.draw_circle(<span class="number">50</span>, <span class="number">50</span>, <span class="number">30</span>)</span><br><span class="line">    img.draw_cross(<span class="number">90</span>,<span class="number">60</span>,size=<span class="number">10</span>)</span><br><span class="line">    img.draw_string(<span class="number">10</span>,<span class="number">10</span>, <span class="string">&quot;hello world!&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="1-ç”»çº¿">1 ç”»çº¿</h2>
<ul>
<li>image.draw_line(line_tuple, color=White) åœ¨å›¾åƒä¸­ç”»ä¸€æ¡ç›´çº¿ã€‚
<ul>
<li>line_tupleçš„æ ¼å¼æ˜¯(x0, y0, x1, y1)ï¼Œæ„æ€æ˜¯(x0, y0)åˆ°(x1, y1)çš„ç›´çº¿ã€‚</li>
<li>é¢œè‰²å¯ä»¥æ˜¯ç°åº¦å€¼(0-255)ï¼Œæˆ–è€…æ˜¯å½©è‰²å€¼(r, g, b)çš„tuppleã€‚é»˜è®¤æ˜¯ç™½è‰²</li>
</ul>
</li>
</ul>
<p>ï¼ˆ1ï¼‰img.draw_line((20, 30, 40, 50))</p>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/7.png" alt></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå›¾åƒä¸­ç”»å‡ºäº†ä¸€æ¡ç™½çº¿ã€‚</p>
<p>ï¼ˆ2ï¼‰img.draw_line((80, 50, 100, 100), color=(255,0,0))</p>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/8.png" alt></p>
<h2 id="2-ç”»æ¡†">2 ç”»æ¡†</h2>
<ul>
<li>image.draw_rectangle(rect_tuple, color=White) åœ¨å›¾åƒä¸­ç”»ä¸€ä¸ªçŸ©å½¢æ¡†ã€‚
<ul>
<li>rect_tuple çš„æ ¼å¼æ˜¯ (x, y, w, h)ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img.draw_rectangle((<span class="number">20</span>, <span class="number">30</span>, <span class="number">41</span>, <span class="number">51</span>), color=(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/9.png" alt></p>
<h2 id="3-ç”»åœ†">3 ç”»åœ†</h2>
<ul>
<li>image.draw_circle(x, y, radius, color=White) åœ¨å›¾åƒä¸­ç”»ä¸€ä¸ªåœ†ã€‚
<ul>
<li>x,yæ˜¯åœ†å¿ƒåæ ‡</li>
<li>radiusæ˜¯åœ†çš„åŠå¾„</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img.draw_circle(<span class="number">50</span>, <span class="number">50</span>, <span class="number">30</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/10.png" alt></p>
<h2 id="4-ç”»åå­—">4 ç”»åå­—</h2>
<ul>
<li>image.draw_cross(x, y, size=5, color=White) åœ¨å›¾åƒä¸­ç”»ä¸€ä¸ªåå­—
<ul>
<li>x,yæ˜¯åæ ‡</li>
<li>sizeæ˜¯ä¸¤ä¾§çš„å°ºå¯¸</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img.draw_cross(<span class="number">90</span>,<span class="number">60</span>,size=<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/11.png" alt></p>
<h2 id="5-å†™å­—">5 å†™å­—</h2>
<ul>
<li>image.draw_string(x, y, text, color=White) åœ¨å›¾åƒä¸­å†™å­— 8x10çš„åƒç´ 
<ul>
<li>x,yæ˜¯åæ ‡ã€‚ä½¿ç”¨\n, \r, and \r\nä¼šä½¿å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œã€‚</li>
<li>textæ˜¯è¦å†™çš„å­—ç¬¦ä¸²ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img.draw_string(<span class="number">10</span>,<span class="number">10</span>, <span class="string">&quot;hello world!&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/12.png" alt></p>
<h1>å¯»æ‰¾è‰²å—</h1>
<h5 id="è§†é¢‘æ•™ç¨‹4-é¢œè‰²è¯†åˆ«ï¼šhttps-singtown-com-learn-49993">è§†é¢‘æ•™ç¨‹4 - é¢œè‰²è¯†åˆ«ï¼š<a target="_blank" rel="noopener" href="https://singtown.com/learn/49993/">https://singtown.com/learn/49993/</a></h5>
<h2 id="1-find-blobså‡½æ•°">1 find_blobså‡½æ•°</h2>
<h5 id="ä»¥ä¸‹ä¸ºæ‰¾åˆ°é»‘è‰²è‰²å—å¹¶ç”»æ¡†å’Œåå­—æ ‡è®°çš„ä»£ç ç¤ºä¾‹">ä»¥ä¸‹ä¸ºæ‰¾åˆ°é»‘è‰²è‰²å—å¹¶ç”»æ¡†å’Œåå­—æ ‡è®°çš„ä»£ç ç¤ºä¾‹</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">sensor.reset() <span class="comment"># åˆå§‹åŒ–æ‘„åƒå¤´</span></span><br><span class="line">sensor.set_pixformat(sensor.RGB565) <span class="comment"># æ ¼å¼ä¸º RGB565.</span></span><br><span class="line">sensor.set_framesize(sensor.QVGA)</span><br><span class="line">sensor.skip_frames(<span class="number">10</span>) <span class="comment"># è·³è¿‡10å¸§ï¼Œä½¿æ–°è®¾ç½®ç”Ÿæ•ˆ</span></span><br><span class="line"></span><br><span class="line">black = (<span class="number">0</span>, <span class="number">22</span>, -<span class="number">8</span>, <span class="number">10</span>, -<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">    img = sensor.snapshot()         <span class="comment"># Take a picture and return the image.</span></span><br><span class="line">    blobs = img.find_blobs([black])</span><br><span class="line">    <span class="keyword">if</span> blobs:</span><br><span class="line">    <span class="comment">#å¦‚æœæ‰¾åˆ°äº†ç›®æ ‡é¢œè‰²</span></span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> blobs:</span><br><span class="line">        <span class="comment">#è¿­ä»£æ‰¾åˆ°çš„ç›®æ ‡é¢œè‰²åŒºåŸŸ</span></span><br><span class="line">            <span class="comment"># Draw a rect around the blob.</span></span><br><span class="line">            img.draw_rectangle(b[<span class="number">0</span>:<span class="number">4</span>]) <span class="comment"># rect</span></span><br><span class="line">            <span class="comment">#ç”¨çŸ©å½¢æ ‡è®°å‡ºç›®æ ‡é¢œè‰²åŒºåŸŸ</span></span><br><span class="line">            img.draw_cross(b[<span class="number">5</span>], b[<span class="number">6</span>]) <span class="comment"># cx, cy</span></span><br><span class="line">            <span class="comment">#åœ¨ç›®æ ‡é¢œè‰²åŒºåŸŸçš„ä¸­å¿ƒç”»åå­—å½¢æ ‡è®°</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ï¼ˆ1ï¼‰find_blobs(thresholds, invert=False, roi=Auto),thresholdsä¸ºé¢œè‰²é˜ˆå€¼ï¼Œæ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œéœ€è¦ç”¨æ‹¬å·ï¼» ï¼½æ‹¬èµ·æ¥ã€‚</p>
<p>ï¼ˆ2ï¼‰invert=1,åè½¬é¢œè‰²é˜ˆå€¼ï¼Œinvert=Falseé»˜è®¤ä¸åè½¬ã€‚</p>
<p>ï¼ˆ3ï¼‰roiè®¾ç½®é¢œè‰²è¯†åˆ«çš„è§†é‡åŒºåŸŸï¼Œroiæ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œ roi = (x, y, w, h)ï¼Œä»£è¡¨ä»å·¦ä¸Šé¡¶ç‚¹(x,y)å¼€å§‹çš„å®½ä¸ºwé«˜ä¸ºhçš„çŸ©å½¢åŒºåŸŸï¼Œroiä¸è®¾ç½®çš„è¯é»˜è®¤ä¸ºæ•´ä¸ªå›¾åƒè§†é‡ã€‚</p>
<p>ï¼ˆ4ï¼‰è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œ[0]ä»£è¡¨è¯†åˆ«åˆ°çš„ç›®æ ‡é¢œè‰²åŒºåŸŸå·¦ä¸Šé¡¶ç‚¹çš„xåæ ‡ï¼Œï¼»1ï¼½ä»£è¡¨å·¦ä¸Šé¡¶ç‚¹yåæ ‡ï¼Œï¼»2ï¼½ä»£è¡¨ç›®æ ‡åŒºåŸŸçš„å®½ï¼Œï¼»3ï¼½ä»£è¡¨ç›®æ ‡åŒºåŸŸçš„é«˜ï¼Œï¼»4ï¼½ä»£è¡¨ç›®æ ‡åŒºåŸŸåƒç´ ç‚¹çš„ä¸ªæ•°ï¼Œï¼»5ï¼½ä»£è¡¨ç›®æ ‡åŒºåŸŸçš„ä¸­å¿ƒç‚¹xåæ ‡ï¼Œï¼»6ï¼½ä»£è¡¨ç›®æ ‡åŒºåŸŸä¸­å¿ƒç‚¹yåæ ‡ï¼Œï¼»7ï¼½ä»£è¡¨ç›®æ ‡é¢œè‰²åŒºåŸŸçš„æ—‹è½¬è§’åº¦ï¼ˆæ˜¯å¼§åº¦å€¼ï¼Œæµ®ç‚¹å‹ï¼Œåˆ—è¡¨å…¶ä»–å…ƒç´ æ˜¯æ•´å‹ï¼‰ï¼Œï¼»8ï¼½ä»£è¡¨ä¸æ­¤ç›®æ ‡åŒºåŸŸäº¤å‰çš„ç›®æ ‡ä¸ªæ•°ï¼Œï¼»9ï¼½ä»£è¡¨é¢œè‰²çš„ç¼–å·ï¼ˆå®ƒå¯ä»¥ç”¨æ¥åˆ†è¾¨è¿™ä¸ªåŒºåŸŸæ˜¯ç”¨å“ªä¸ªé¢œè‰²é˜ˆå€¼thresholdè¯†åˆ«å‡ºæ¥çš„ï¼‰ã€‚</p>
</blockquote>
<p>é€šè¿‡find_blobså‡½æ•°å¯ä»¥æ‰¾åˆ°è‰²å—.æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹ï¼Œfind_blobsçš„ç»†èŠ‚ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">image.find_blobs(thresholds, roi=Auto, x_stride=<span class="number">2</span>, y_stride=<span class="number">1</span>, invert=<span class="literal">False</span>, area_threshold=<span class="number">10</span>, pixels_threshold=<span class="number">10</span>, merge=<span class="literal">False</span>, margin=<span class="number">0</span>, threshold_cb=<span class="literal">None</span>, merge_cb=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„å‚æ•°æ¯”è¾ƒå¤šã€‚</p>
<blockquote>
<p>thresholdsã€roiã€x_strideã€y_strideã€invertã€area_thresholdã€pixels_thresholdã€mergeã€marginã€threshold_cbã€merge_cb</p>
</blockquote>
<p>(1)thresholdsæ˜¯é¢œè‰²çš„é˜ˆå€¼ï¼Œæ³¨æ„ï¼šè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªé¢œè‰²ã€‚å¦‚æœä½ åªéœ€è¦ä¸€ä¸ªé¢œè‰²ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªåˆ—è¡¨ä¸­åªéœ€è¦æœ‰ä¸€ä¸ªé¢œè‰²å€¼ï¼Œå¦‚æœä½ æƒ³è¦å¤šä¸ªé¢œè‰²é˜ˆå€¼ï¼Œé‚£è¿™ä¸ªåˆ—è¡¨å°±éœ€è¦å¤šä¸ªé¢œè‰²é˜ˆå€¼ã€‚æ³¨æ„ï¼šåœ¨è¿”å›çš„è‰²å—å¯¹è±¡blobå¯ä»¥è°ƒç”¨codeæ–¹æ³•ï¼Œæ¥åˆ¤æ–­æ˜¯ä»€ä¹ˆé¢œè‰²çš„è‰²å—ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">red = (xxx,xxx,xxx,xxx,xxx,xxx)</span><br><span class="line">blue = (xxx,xxx,xxx,xxx,xxx,xxx)</span><br><span class="line">yellow = (xxx,xxx,xxx,xxx,xxx,xxx)</span><br><span class="line"></span><br><span class="line">img=sensor.snapshot()</span><br><span class="line">red_blobs = img.find_blobs([red])</span><br><span class="line"></span><br><span class="line">color_blobs = img.find_blobs([red,blue, yellow])</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ2ï¼‰roiæ˜¯â€œæ„Ÿå…´è¶£åŒºâ€ã€‚åœ¨<a target="_blank" rel="noopener" href="https://book.openmv.cc/image/statistics.html">ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯</a>ä¸­å·²ç»ä»‹ç»è¿‡äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">left_roi = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">160</span>,<span class="number">240</span>]</span><br><span class="line">blobs = img.find_blobs([red],roi=left_roi)</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ3ï¼‰x_stride å°±æ˜¯æŸ¥æ‰¾çš„è‰²å—çš„xæ–¹å‘ä¸Šæœ€å°å®½åº¦çš„åƒç´ ï¼Œé»˜è®¤ä¸º2ï¼Œå¦‚æœä½ åªæƒ³æŸ¥æ‰¾å®½åº¦10ä¸ªåƒç´ ä»¥ä¸Šçš„è‰²å—ï¼Œé‚£ä¹ˆå°±è®¾ç½®è¿™ä¸ªå‚æ•°ä¸º10ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blobs = img.find_blobs([red],x_stride=<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ4ï¼‰y_stride å°±æ˜¯æŸ¥æ‰¾çš„è‰²å—çš„yæ–¹å‘ä¸Šæœ€å°å®½åº¦çš„åƒç´ ï¼Œé»˜è®¤ä¸º1ï¼Œå¦‚æœä½ åªæƒ³æŸ¥æ‰¾å®½åº¦5ä¸ªåƒç´ ä»¥ä¸Šçš„è‰²å—ï¼Œé‚£ä¹ˆå°±è®¾ç½®è¿™ä¸ªå‚æ•°ä¸º5ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blobs = img.find_blobs([red],y_stride=<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ5ï¼‰invert åè½¬é˜ˆå€¼ï¼ŒæŠŠé˜ˆå€¼ä»¥å¤–çš„é¢œè‰²ä½œä¸ºé˜ˆå€¼è¿›è¡ŒæŸ¥æ‰¾</p>
<p>ï¼ˆ6ï¼‰area_threshold é¢ç§¯é˜ˆå€¼ï¼Œå¦‚æœè‰²å—è¢«æ¡†èµ·æ¥çš„é¢ç§¯å°äºè¿™ä¸ªå€¼ï¼Œä¼šè¢«è¿‡æ»¤æ‰</p>
<p>ï¼ˆ7ï¼‰pixels_threshold åƒç´ ä¸ªæ•°é˜ˆå€¼ï¼Œå¦‚æœè‰²å—åƒç´ æ•°é‡å°äºè¿™ä¸ªå€¼ï¼Œä¼šè¢«è¿‡æ»¤æ‰</p>
<p>ï¼ˆ8ï¼‰merge åˆå¹¶ï¼Œå¦‚æœè®¾ç½®ä¸ºTrueï¼Œé‚£ä¹ˆåˆå¹¶æ‰€æœ‰é‡å çš„blobä¸ºä¸€ä¸ªã€‚<br>
æ³¨æ„ï¼šè¿™ä¼šåˆå¹¶æ‰€æœ‰çš„blobï¼Œæ— è®ºæ˜¯ä»€ä¹ˆé¢œè‰²çš„ã€‚å¦‚æœä½ æƒ³æ··æ·†å¤šç§é¢œè‰²çš„blobï¼Œåªéœ€è¦åˆ†åˆ«è°ƒç”¨ä¸åŒé¢œè‰²é˜ˆå€¼çš„find_blobsã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">all_blobs = img.find_blobs([red,blue,yellow],merge=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">red_blobs = img.find_blobs([red],merge=<span class="literal">True</span>)</span><br><span class="line">blue_blobs = img.find_blobs([blue],merge=<span class="literal">True</span>)</span><br><span class="line">yellow_blobs = img.find_blobs([yellow],merge=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ9ï¼‰margin è¾¹ç•Œï¼Œå¦‚æœè®¾ç½®ä¸º1ï¼Œé‚£ä¹ˆä¸¤ä¸ªblobså¦‚æœé—´è·1ä¸ªåƒç´ ç‚¹ï¼Œä¹Ÿä¼šè¢«åˆå¹¶ã€‚</p>
<h2 id="2-é˜ˆå€¼">2 é˜ˆå€¼</h2>
<p>ä¸€ä¸ªé¢œè‰²é˜ˆå€¼çš„ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">red = (minL, maxL, minA, maxA, minB, maxB)</span><br></pre></td></tr></table></figure>
<p>å…ƒç»„é‡Œé¢çš„æ•°å€¼åˆ†åˆ«æ˜¯L A B çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p>
<p>å¦‚æœæƒ³åœ¨IDEçš„å›¾åƒé‡Œè·å–è¿™ä¸ªé˜ˆå€¼ï¼Œè§ï¼š<a target="_blank" rel="noopener" href="https://book.openmv.cc/quick-starter.html">10åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹</a></p>
<p>åœ¨æ–°ç‰ˆçš„IDEï¼Œæœ‰æ›´æ–¹ä¾¿çš„é˜ˆå€¼é€‰æ‹©å·¥å…·ï¼Œè§ä¸‹é¢ã€‚</p>
<p><img src="/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/13.png" alt></p>
<p>é€‰æ‹©æœºå™¨è§†è§‰ä¸‹çš„é˜ˆå€¼ç¼–è¾‘å™¨ï¼Œå†é€‰æ‹©å¸§ç¼“å†²åŒºï¼Œæ‹–åŠ¨å…­ä¸ªæ»‘å—ï¼Œå¯ä»¥å®æ—¶çš„çœ‹åˆ°é˜ˆå€¼çš„ç»“æœï¼Œæˆ‘ä»¬æƒ³è¦çš„ç»“æœå°±æ˜¯ï¼Œå°†æˆ‘ä»¬çš„ç›®æ ‡é¢œè‰²å˜æˆç™½è‰²ï¼Œå…¶ä»–é¢œè‰²å…¨å˜ä¸ºé»‘è‰²ã€‚</p>
<h2 id="3-blobsæ˜¯ä¸€ä¸ªåˆ—è¡¨">3 blobsæ˜¯ä¸€ä¸ªåˆ—è¡¨</h2>
<p>ï¼ˆ1ï¼‰find_blobså¯¹è±¡è¿”å›çš„æ˜¯å¤šä¸ªblobçš„åˆ—è¡¨ã€‚ï¼ˆæ³¨æ„åŒºåˆ†blobså’Œblobï¼Œè¿™åªæ˜¯ä¸€ä¸ªåå­—ï¼Œç”¨æ¥åŒºåˆ†å¤šä¸ªè‰²å—ï¼Œå’Œä¸€ä¸ªè‰²å—ï¼‰ã€‚<br>
ï¼ˆ2ï¼‰åˆ—è¡¨ç±»ä¼¼ä¸Cè¯­è¨€çš„æ•°ç»„ï¼Œä¸€ä¸ªblobsåˆ—è¡¨é‡ŒåŒ…å«å¾ˆå¤šblobå¯¹è±¡ï¼Œblobså¯¹è±¡å°±æ˜¯è‰²å—ï¼Œæ¯ä¸ªblobså¯¹è±¡åŒ…å«ä¸€ä¸ªè‰²å—çš„ä¿¡æ¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blobs = img.find_blobs([red])</span><br></pre></td></tr></table></figure>
<p>blobså°±æ˜¯å¾ˆå¤šè‰²å—ã€‚</p>
<p>ï¼ˆ3ï¼‰å¯ä»¥ç”¨forå¾ªç¯æŠŠæ‰€æœ‰çš„è‰²å—æ‰¾ä¸€éã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> blob <span class="keyword">in</span> blobs:</span><br><span class="line">    <span class="built_in">print</span>(blob.cx())</span><br></pre></td></tr></table></figure>
<p>å¯¹äºforå¾ªç¯çš„ä½¿ç”¨ï¼Œè§<a target="_blank" rel="noopener" href="https://book.openmv.cc/python-background.html">pythonèƒŒæ™¯çŸ¥è¯†</a></p>
<h2 id="4-blobè‰²å—å¯¹è±¡">4  blobè‰²å—å¯¹è±¡</h2>
<p>blobæœ‰å¤šä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>
<p>blob.rect() è¿”å›è¿™ä¸ªè‰²å—çš„å¤–æ¡†â€”â€”çŸ©å½¢å…ƒç»„(x, y, w, h)ï¼Œå¯ä»¥ç›´æ¥åœ¨image.draw_rectangleä¸­ä½¿ç”¨ã€‚</p>
</li>
<li>
<p>blob.x() è¿”å›è‰²å—çš„å¤–æ¡†çš„xåæ ‡ï¼ˆintï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡blob[0]æ¥è·å–ã€‚</p>
</li>
<li>
<p>blob.y() è¿”å›è‰²å—çš„å¤–æ¡†çš„yåæ ‡ï¼ˆintï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡blob[1]æ¥è·å–ã€‚</p>
</li>
<li>
<p>blob.w() è¿”å›è‰²å—çš„å¤–æ¡†çš„å®½åº¦wï¼ˆintï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡blob[2]æ¥è·å–ã€‚</p>
</li>
<li>
<p>blob.h() è¿”å›è‰²å—çš„å¤–æ¡†çš„é«˜åº¦hï¼ˆintï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡blob[3]æ¥è·å–ã€‚</p>
</li>
<li>
<p>blob.pixels() è¿”å›è‰²å—çš„åƒç´ æ•°é‡ï¼ˆintï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡blob[4]æ¥è·å–ã€‚</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://blob.cx">blob.cx</a>() è¿”å›è‰²å—çš„å¤–æ¡†çš„ä¸­å¿ƒxåæ ‡ï¼ˆintï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡blob[5]æ¥è·å–ã€‚</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://blob.cy">blob.cy</a>() è¿”å›è‰²å—çš„å¤–æ¡†çš„ä¸­å¿ƒyåæ ‡ï¼ˆintï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡blob[6]æ¥è·å–ã€‚</p>
</li>
<li>
<p>blob.rotation() è¿”å›è‰²å—çš„æ—‹è½¬è§’åº¦ï¼ˆå•ä½ä¸ºå¼§åº¦ï¼‰ï¼ˆfloatï¼‰ã€‚å¦‚æœè‰²å—ç±»ä¼¼ä¸€ä¸ªé“…ç¬”ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¸º0~180Â°ã€‚å¦‚æœè‰²å—æ˜¯ä¸€ä¸ªåœ†ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼æ˜¯æ— ç”¨çš„ã€‚å¦‚æœè‰²å—å®Œå…¨æ²¡æœ‰å¯¹ç§°æ€§ï¼Œé‚£ä¹ˆä½ ä¼šå¾—åˆ°0~360Â°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡blob[7]æ¥è·å–ã€‚</p>
</li>
<li>
<p>blob.code() è¿”å›ä¸€ä¸ª16bitæ•°å­—ï¼Œæ¯ä¸€ä¸ªbitä¼šå¯¹åº”æ¯ä¸€ä¸ªé˜ˆå€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>blobs = img.find_blobs([red, blue, yellow], merge=True)</p>
</li>
</ul>
<p>å¦‚æœè¿™ä¸ªè‰²å—æ˜¯çº¢è‰²ï¼Œé‚£ä¹ˆå®ƒçš„codeå°±æ˜¯0001ï¼Œå¦‚æœæ˜¯è“è‰²ï¼Œé‚£ä¹ˆå®ƒçš„codeå°±æ˜¯0010ã€‚æ³¨æ„ï¼šä¸€ä¸ªblobå¯èƒ½æ˜¯åˆå¹¶çš„ï¼Œå¦‚æœæ˜¯çº¢è‰²å’Œè“è‰²çš„blobï¼Œé‚£ä¹ˆè¿™ä¸ªblobå°±æ˜¯0011ã€‚è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨äºæŸ¥æ‰¾é¢œè‰²ä»£ç ã€‚ä¹Ÿå¯ä»¥é€šè¿‡blob[8]æ¥è·å–ã€‚</p>
<ul>
<li>blob.count() å¦‚æœmerge=Trueï¼Œé‚£ä¹ˆå°±ä¼šæœ‰å¤šä¸ªblobè¢«åˆå¹¶åˆ°ä¸€ä¸ªblobï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„å°±æ˜¯è¿™ä¸ªçš„æ•°é‡ã€‚å¦‚æœmerge=Falseï¼Œé‚£ä¹ˆè¿”å›å€¼æ€»æ˜¯1ã€‚ä¹Ÿå¯ä»¥é€šè¿‡blob[9]æ¥è·å–ã€‚</li>
<li>blob.area() è¿”å›è‰²å—çš„å¤–æ¡†çš„é¢ç§¯ã€‚åº”è¯¥ç­‰äº(w * h)</li>
<li>blob.density() è¿”å›è‰²å—çš„å¯†åº¦ã€‚è¿™ç­‰äºè‰²å—çš„åƒç´ æ•°é™¤ä»¥å¤–æ¡†çš„åŒºåŸŸã€‚å¦‚æœå¯†åº¦è¾ƒä½ï¼Œé‚£ä¹ˆè¯´æ˜ç›®æ ‡é”å®šçš„ä¸æ˜¯å¾ˆå¥½ã€‚<br>
æ¯”å¦‚ï¼Œè¯†åˆ«ä¸€ä¸ªçº¢è‰²çš„åœ†ï¼Œè¿”å›çš„blob.pixels()æ˜¯ç›®æ ‡åœ†çš„åƒç´ ç‚¹æ•°ï¼Œblob.area()æ˜¯åœ†çš„å¤–æ¥æ­£æ–¹å½¢çš„é¢ç§¯ã€‚</li>
</ul>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>WM</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://fiercewill.github.io/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/">https://fiercewill.github.io/2023/12/08/openmv4-R2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>ç”µå­ä¿¡æ¯å·¥ç¨‹ (A) 2023 <a href="https://fiercewill.github.io/categories/STM32%E7%AC%94%E8%AE%B0/">STM32ç¬”è®°</a> . <a href="https://fiercewill.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%EF%BC%88C%E8%AF%AD%E8%A8%80%EF%BC%89/">æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼ˆcè¯­è¨€ï¼‰</a> . <a href="https://fiercewill.github.io/categories/%E6%99%BA%E8%83%BD%E8%BD%A6%E7%AB%9E%E8%B5%9B/">æ™ºèƒ½è½¦ç«èµ›</a> ç‹æ˜çš„åšå®¢</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>åœ¨ä½ æœ€è™šå¼±çš„æ—¶å€™ï¼Œ<strong>æœ€å¼ºç‰ˆæœ¬</strong>çš„ä½ æ­£åœ¨å‡†å¤‡<strong>ç™»åœº</strong>ã€‚</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/openmv/">ğŸ·ï¸ openmv</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
            
            <a class="next" rel="next" href="/2023/12/07/stm32%E4%B8%AD%E6%BB%B4%E7%AD%94%E5%AE%9A%E6%97%B6%E5%99%A8%E4%B8%8E%E6%99%AE%E9%80%9A%E5%AE%9A%E6%97%B6%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB/">stm32ä¸­æ»´ç­”å®šæ—¶å™¨ä¸æ™®é€šå®šæ—¶å™¨çš„åŒºåˆ«</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© WM | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a>
		
		  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<span class="site-uv">
    æ€»è®¿å®¢é‡:
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>&nbsp;


<span class="site-pv">
    æ€»è®¿é—®é‡:
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>


		
        </span>
    </div>
</footer>
<link rel="stylesheet" href="/dist/APlayer.min.css">
<div id="aplayer"></div>
<script type="text/javascript" src="/dist/APlayer.min.js"></script>
<script type="text/javascript" src="/dist/music.js"></script>
    </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="\js\FunnyTitle.js"></script>
<script type="text/javascript" src="http://libs.baidu.com/jquery/1.8.3/jquery.js"></script>
<script type="text/javascript" src="http://libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="\js\snow.js"></script>
<script type="text/javascript" src="/js/fireworks.js"></script>
<!--æµè§ˆå™¨æç¬‘æ ‡é¢˜-->
<!-- é›ªèŠ±ç‰¹æ•ˆ -->

